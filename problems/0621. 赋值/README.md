## [621. 赋值](https://www.acwing.com/problem/content/623/)

### 题目

给定一个无序的赋值声明列表，编写一个程序来确定是否可以通过调整赋值声明的顺序，使得所有变量都能够被赋值成功。

在我们的问题中，赋值声明将按顺序由赋值变量，赋值运算符和表达式组成。

我们将按照你排列的顺序对每个变量依次进行赋值。

只有一个变量是先前赋值语句的赋值变量时，它才能够用于给别的变量进行赋值。

为了简化问题，所有表达式都是单个函数调用。

函数可以采用任意数量（包括零）的参数;具有 *0* 个参数的函数始终有效，只要函数内的参数变量都是被赋过值的，则函数有效。

例如，对于以下赋值语句列表：

```
a=f(b,c)
b=g()
c=h()
```

这是使每个语句都有效的一个顺序：

```
b=g()
c=h()
a=f(b,c)
```

这是因为：

1. *b* 和 *c* 可以被赋值，因为表达式 *g()* 和 *h()* 不依赖于任何变量。
2. *a* 也可以被赋值，因为赋值 *a* 取决于 *b* 和 *c*，*b* 和 *c* 都是已经赋过值的。

但是如下顺序：

```
b=g()
a=f(b,c)
c=h()
```

语句无法全部生效，因为 *f(b，c)* 将变量 *c* 作为参数，但变量 *c* 还不是赋值变量。

另一个例子是：*a = f(a)*，赋值声明列表中只包含这个语句。

因为表达式 *f(a)* 取决于变量 *a* 本身，所以赋值声明无法生效。

### 输入格式

第一行包含整数 *T*，表示共有 *T* 组测试数据。

每组数据第一行包含整数 *N*，表示共有 *N* 个赋值语句。

接下来 *N* 行，每行包含一个赋值语句。

每个赋值语句由三部分组成：赋值变量，赋值运算符和表达式，中间没有空格。

所有表达式的构成：函数名+ `(` +零个或多个以逗号分隔的变量名+ `)`，例如 *f(x),g(),q(a,b)* 等。

所有变量和函数名由一个或多个小写英文字母组成。

没有变量与函数同名。

任何变量都不会作为赋值变量出现多次。

但是，变量可能在各种函数中出现不止一次（即使在同一函数中），并且函数可能出现不止一次。

### 输出格式

每组数据输出一个结果，每个结果占一行。

结果表示为 `Case #x: y`，其中 *x* 是组别编号（从 *1* 开始），如果所有变量都能被成功赋值，则 *y* 是 `GOOD`，否则 *y* 是 `BAD`。

### 数据范围

*1 ≤ T ≤ 20*,

*1 ≤ N ≤ 1000*,

一个函数最多包含 *10* 个参数，变量和函数名长度均不超过 *20*。

### 输入样例：

```
4
3
a=f(b,c)
b=g()
c=h()
2
a=f(b)
b=f(a)
2
aaa=foo(x,y)
bbb=bar(aaa,bbb)
2
x=f()
y=g(x,x)
```

### 输出样例：

```
Case #1: GOOD
Case #2: BAD
Case #3: BAD
Case #4: GOOD
```
