## [690. 俄罗斯方块](https://www.acwing.com/problem/content/692/)

### 题目

俄罗斯方块是一个耳熟能详的经典游戏，在这个问题中，你需要模拟它的简化版本。

在我们的版本中，游戏是在 *W × H* 的区域中进行的。

一开始，该区域为空。

然后，方块开始逐渐从区域顶部落到区域底部。

每一个方块一接触到其他方块或底部的场地就会停止。

游戏的一个有趣特征称为“行清除”。

一旦某行被方块填充满，该行方块就会被清除。

一次可以清除多行。

例如：

```
|..............|      |..............|      |..............|
|.............o|      |..............|      |..............|
|.............o|      |..............|      |..............|
|.............o|      |..............|      |..............|
|.............o|      |..............|      |..............|
|..xx..........| -->  |..xx..........| -->  |..............|
|xxxxxxxxxxxxx.|      |xxxxxxxxxxxxxo|      |..............|
|xxxxxxxxxxxxx.|      |xxxxxxxxxxxxxo|      |..xx..........|
|xx..xxxxxxxxx.|      |xx..xxxxxxxxxo|      |xx..xxxxxxxxxo|
|xxxxxxxxxxx...|      |xxxxxxxxxxx..o|      |xxxxxxxxxxx..o|
  ----------------      ----------------      ----------------

下落                  停止                  两行被清除
```

请注意，在此简化版本中，“浮动”方块在清除行后不会继续下降。

这就是为什么最顶部的两个方格将保持在这样的位置的原因。

请注意，这是跟原版俄罗斯方块所不同的。

当放置完所有给定的方块，或者由于超过场地的高度限制而无法放置当前的方块时游戏结束。

在这个问题中，每个方块在输入时都会被告知类型，旋转朝向和下降位置。

它们将从场地的上方开始下落。

你的目标是模拟并获得每场比赛的最终结果。

### 输入格式

我们有七种方块类型：

```
1   2   3   4   5   6   7

x    x  x    x  xx  x    x
xx  xx  x    x  xx  x   xxx
x  x   xx  xx      x
                    x
```

每个方块的旋转朝向由数字 *r* 表示（上面展示的七种方块都是处于 *r=0* 时的形态）。

*r* 可以是 *0,1,2,3*，旋转沿逆时针方向，例如：

```
r=0   r=1  r=2   r=3

x     x   xxx   x
xxx   xx    x    xx
        x         x

x     xx   x     xx
xx   xx    xx   xx
x          x
```

方块的最左边部分所处的水平位置坐标用 *x* 表示，场地的水平坐标从左到右从 *0* 开始。

输入第一行包含整数 *T*，表示共有 *T* 组测试数据。

每组数据第一行包含整数 *W,H,N*，分别表示场地的宽和高以及方块的数量。

接下来 *N* 行，每行包含三个整数 *t_i,r_i,x_i*，分表表示方块类型，方块的转向以及方块的水平位置坐标。

数据保证 *x_i* 一定在场地范围以内。

### 输出格式

对于每组测试数据，第一行输出 `Case #x:`，其中 *x* 为组别编号（从 *1* 开始）。

如果游戏提前结束，则输出 `Game Over!`。

如果游戏正常结束，则输出游戏区域的最终状态。

该状态应该包含 *H* 行，每行一个长度为 *W* 的由 `x` 和 `.` 构成的字符串。

### 数据范围

*1 ≤ T ≤ 100*,

*1 ≤ t_i ≤ 7*,

*0 ≤ r_i < 4*,

*4 ≤ W ≤ 100*,

*1 ≤ H ≤ 100*,

*0 ≤ N ≤ 5000*

### 输入样例：

```
5
8 6 1
1 0 0
5 4 1
1 1 1
5 6 3
5 0 0
5 0 2
3 2 3
6 4 3
6 2 0
6 2 0
6 2 0
6 4 2
6 0 0
6 0 1
```

### 输出样例：

```
Case #1:
........
........
........
x.......
xx......
.x......
Case #2:
.....
.....
..xx.
.xx..
Case #3:
.....
.....
.....
.....
.....
...xx
Case #4:
Game Over!
Case #5:
xx....
xx....
xx....
xx....
```
