## [2. 01背包问题](https://www.acwing.com/problem/content/2/)

### 题目

有 *N* 件物品和一个容量是 *V* 的背包。每件物品只能使用一次。

第 *i* 件物品的体积是 *v_i*，价值是 *w_i*。

求解将哪些物品装入背包，可使这些物品的总体积不超过背包容量，且总价值最大。

输出最大价值。

### 输入格式

第一行两个整数，*N，V*，用空格隔开，分别表示物品数量和背包容积。

接下来有 *N* 行，每行两个整数 *v_i, w_i*，用空格隔开，分别表示第 *i* 件物品的体积和价值。

### 输出格式

输出一个整数，表示最大价值。

### 数据范围

*0 < N, V ≤ 1000*

*0 < v_i, w_i ≤ 1000*

### 输入样例

```
4 5
1 2
2 4
3 4
4 5
```

### 输出样例：

```
8
```

### 题解

#### 背包问题分类

1. 0-1背包：每件物品个数都是1
2. 完全背包：每件物品有无限个
3. 多重背包：第 i 件物品个数是 S_i
4. 分组背包：每一组物品中只能选择1个

#### 方法论

Dp求解：

* 状态表示`f(i,j)`
    * 集合：设`(i, j)`表示题目条件，即只从前 i 个物品中选择且总体积小于等于 j
    * 属性：设函数`f`表示题目所求，即`f(i,j)`为满足题目条件的总价值最大的选法

* 状态计算 -- 集合划分

    * `f(i, j)`可以由两种情况推导而来，不含 i 和含 i

        ```c
        f(i, j) = Max(f(i-1, j), f(i-1, j-v_i) + w_i)
        ```
        
#### 实现细节

* `f(0, 0~j)`因为没有选择物品，故值为0

* 划分的两个集合`不含 i` 和`含 i`中`含 i`的集合可能为空集，比如说`i`的体积已经超过允许范围

    

* 因为在求`f(i, )`的时候只用到了`f(i-1, )`，所以可以使用滚动数组来节省空间

