## [1624. 地铁地图](https://www.acwing.com/problem/content/1626/)

### 题目

在大城市，地铁系统对于游客来说总是看起来如此复杂。

为了使你对此有所了解，下图显示了北京地铁的地图。

现在，请你帮助编写一个程序，给定用户的起始位置，找到到达其目的地的最快方法。

 ![55799c23-4bdb-4e32-af7f-6d41accfdd2b.jpg](https://cdn.acwing.com/media/article/image/2020/04/13/19_e1e0f7727d-55799c23-4bdb-4e32-af7f-6d41accfdd2b.jpg)

### 输入格式

第一行包含一个正整数 *N*，表示地铁线路的数量。

接下来 *N* 行，第 *i* 行以下列格式描述第 *i* 条线路（地铁线路都是 **双向** 的）：

`M S[1] S[2] ... S[M]`

其中 *M* 是站点数量，*S[i]* 是沿线站点的编号（站点编号是从 *0000* 到 *9999* 的 *4* 位数字）。

确保这些站点是按照地铁行进顺序给出的，即地铁会从 *S[i]* 直接开到 *S[i+1]*。

注意，可能会存在回路，但不存在自环（即地铁从 *S* 出发，直接开向 *S*，中途不经过任何站点）。

每个车站间隔都只属于一条唯一线路。

一些线路可能会在某些站点（中转站）彼此交叉，但是不能有任何站点作为中转站时，有超过 *5* 条线路在该站点交汇。

描述完地铁线路信息后，包含一行整数 *K*，表示询问次数。

接下来 *K* 行，每行描述一个询问，包含两个站点编号分别表示始发站和目的地。

下面是示例图：

 ![932c8f1b-7dd5-489d-a774-a91c1fabba7f.jpg](https://cdn.acwing.com/media/article/image/2020/04/13/19_9124fd6c7d-932c8f1b-7dd5-489d-a774-a91c1fabba7f.jpg)

保证所有站点都能到达，询问站点编号合法。

### 输出格式

对于每个询问，首先输出最少需要停靠的站点数量，然后以如下格式输出最佳线路：

```
Take Line#X1 from S1 to S2.
Take Line#X2 from S2 to S3.
......
```

其中 `Xi` 是线路编号， `Si` 是站点编号，除始发站和终点站外，只输出中转站。

如果最快线路不唯一，则输出换乘次数最少的线路，保证唯一。

### 数据范围

*1 ≤ N ≤ 100*,

*1 ≤ M ≤ 100*,

*1 ≤ K ≤ 10*

### 输入样例：

```
4
7 1001 3212 1003 1204 1005 1306 7797
9 9988 2333 1204 2006 2005 2004 2003 2302 2001
13 3011 3812 3013 3001 1306 3003 2333 3066 3212 3008 2302 3010 3011
4 6666 8432 4011 1306
3
3011 3013
6666 2001
2004 3001
```

### 输出样例：

```
2
Take Line#3 from 3011 to 3013.
10
Take Line#4 from 6666 to 1306.
Take Line#3 from 1306 to 2302.
Take Line#2 from 2302 to 2001.
6
Take Line#2 from 2004 to 1204.
Take Line#1 from 1204 to 1306.
Take Line#3 from 1306 to 3001.
```
