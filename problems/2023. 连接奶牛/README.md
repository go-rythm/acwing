## [2023. 连接奶牛](https://www.acwing.com/problem/content/2025/)

### 题目

每天农夫约翰都会去巡视农场，检查他的 *N* 头奶牛的健康状况。

每头奶牛的位置由二维平面中的一个点描述，而约翰从原点 *(0,0)* 出发。

为了使自己的路线更有趣，农夫约翰决定只沿平行于坐标轴的方向行走，即只能向北，向南，向东或向西行走。

此外，他只有在到达奶牛的位置时才能改变行进方向（如果需要，他也可以选择通过奶牛的位置而不改变方向）。

在他改变方向时，可以选择转向 *90* 或 *180* 度。

约翰的行进路线必须满足在他访问完所有奶牛后能够回到原点。

如果他在每头奶牛的位置处 **恰好转向一次**，请计算出约翰访问他的 *N* 头奶牛可以采取的不同路线的数量。

允许他在 **不改变方向** 的情况下通过任意奶牛的位置 **任意次数**。

同一几何路线正向走和反向走算作两条不同的路线。

### 输入格式

第一行包含整数 *N*。

接下来 *N* 行，每行包含两个整数 *(x,y)* 表示一个奶牛的位置坐标。

### 输出格式

输出不同路线的数量。

如果不存在有效路线，则输出 *0*。

### 数据范围

*1 ≤ N ≤ 10*,

*-1000 ≤ x,y ≤ 1000*

### 输入样例：

```
4
0 1
2 1
2 0
2 -5
```

### 输出样例：

```
2
```

### 样例解释

共有两条不同路线 *1-2-4-3* 和 *3-4-2-1*。
