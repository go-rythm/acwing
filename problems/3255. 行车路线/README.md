## [3255. 行车路线](https://www.acwing.com/problem/content/3258/)

### 题目

小明和小芳出去乡村玩，小明负责开车，小芳来导航。

小芳将可能的道路分为大道和小道。

大道比较好走，每走 *1* 公里小明会增加 *1* 的疲劳度。

小道不好走，如果连续走小道，小明的疲劳值会快速增加，连续走 *s* 公里小明会增加 *s^2* 的疲劳度。

例如：有 *5* 个路口，*1* 号路口到 *2* 号路口为小道，*2* 号路口到 *3* 号路口为小道，*3* 号路口到 *4* 号路口为大道，*4* 号路口到 *5* 号路口为小道，相邻路口之间的距离都是 *2* 公里。

如果小明从 *1* 号路口到 *5* 号路口，则总疲劳值为 *(2+2)^2+2+2^2=16+2+4=22*。

现在小芳拿到了地图，请帮助她规划一个开车的路线，使得按这个路线开车小明的疲劳度最小。

### 输入格式

输入的第一行包含两个整数 *n, m*，分别表示路口的数量和道路的数量。路口由 *1* 至 *n* 编号，小明需要开车从 *1* 号路口到 *n* 号路口。

接下来 *m* 行描述道路，每行包含四个整数 *t, a, b, c*，表示一条类型为 *t*，连接 *a* 与 *b* 两个路口，长度为 *c* 公里的双向道路。其中 *t* 为 *0* 表示大道，*t* 为 *1* 表示小道。

保证 *1* 号路口和 *n* 号路口是连通的。

### 输出格式

输出一个整数，表示最优路线下小明的疲劳度。

### 数据范围

对于 *30%* 的评测用例，*1 ≤ n ≤ 8，1 ≤ m ≤ 10*；

对于另外 *20%* 的评测用例，不存在小道；

对于另外 *20%* 的评测用例，所有的小道不相交；

对于所有评测用例，*1 ≤ n ≤ 500，1 ≤ m ≤ 10^5，1 ≤ a, b ≤ n*，*t* 是 *0* 或 *1*，*c ≤ 10^5*。

**保证答案不超过 *10^6*。**

### 输入样例：

```
6 7
1 1 2 3
1 2 3 2
0 1 3 30
0 3 4 20
0 4 5 30
1 3 5 6
1 5 6 1
```

### 输出样例：

```
76
```

### 样例解释

从 *1* 走小道到 *2*，再走小道到 *3*，疲劳度为 *5^2=25*；然后从 *3* 走大道经过 *4* 到达 *5*，疲劳度为 *20+30=50*；最后从 *5* 走小道到 *6*，疲劳度为 *1*。

总共为 *76*。
