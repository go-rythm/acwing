## [492. 矩阵取数游戏](https://www.acwing.com/problem/content/494/)

### 题目

帅帅经常跟同学玩一个矩阵取数游戏：

对于一个给定的 *n × m* 的矩阵，矩阵中的每个元素 *a_{ij}* 均为非负整数。

游戏规则如下：

1. 每次取数时须从每行各取走一个元素，共 *n* 个。*m* 次后取完矩阵所有元素；

2. 每次取走的各个元素只能是该元素所在行的行首或行尾；

3. 每次取数都有一个得分值，为每行取数的得分之和，每行取数的得分 *=* 被取走的元素值 *× 2^i*，其中 *i* 表示第 *i* 次取数（从 *1* 开始编号）；

4. 游戏结束总得分为 *m* 次取数得分之和。

帅帅想请你帮忙写一个程序，对于任意矩阵，可以求出取数后的最大得分。

### 输入格式

输入包含 *n+1* 行：

第 *1* 行为两个用空格隔开的整数 *n* 和 *m*。

第 *2 × n+1* 行为 *n × m* 矩阵，其中每行有 *m* 个用单个空格隔开的非负整数。

### 输出格式

输出文件仅包含 *1* 行，为一个整数，即输入矩阵取数后的最大得分。

### 数据范围

*1 ≤ n,m ≤ 80*,

*0 ≤ a_{ij} ≤ 1000*

### 输入样例：

```
2 3
1 2 3
3 4 2
```

### 输出样例：

```
82
```
