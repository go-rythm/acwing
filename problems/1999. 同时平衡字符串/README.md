## [1999. 同时平衡字符串](https://www.acwing.com/problem/content/2001/)

### 题目

约翰的奶牛都属于一种非常奇特的品种，拥有非常独特的外观----每头奶牛的皮上都有一个巨大的括号形状的斑点（根据奶牛面对的方向，这可能看起来像左括号或右括号）。

一天早晨，农夫约翰将他的奶牛排成 *K* 行，每行 *N* 头牛。

奶牛面对的方向相当随意，因此可以用 *K* 个长度为 *N* 的括号序列 *S_1，…，S_k* 来描述这个阵容。

约翰兴奋的注意到，他的奶牛们在一定范围内是同时平衡的。

当 *S_1,…,S_k* 中的每个字符串都在 *i…j* 范围内处于平衡状态时（平衡状态的定义在题目最后），我们才认为奶牛们在 *i…j* 范围内是同时平衡的。

例如，如果 *K = 3*，并且各字符串如下所示：

```
S_1 = )()((())))(())
S_2 = ()(()()()((())
S_3 = )))(()()))(())
                1111
      01234567890123
```

对于上述字符串，在范围 *[3…8]* 同时达到平衡，因为 *S_1[3…8] = ((())), S_2[3…8] = ()()(), S_3[3…8] = (()())* 都处于平衡状态。

同理，范围 *[10…13]* 和 *[11…12]* 也同时达到平衡。

给定 *K* 个长度为 *N* 的括号序列，请帮助约翰计算满足 *i…j* 范围内同时平衡的成对 *(i,j)* 的数量。

有若干种定义括号字符串是否“平衡”的方式。

最简单的定义为字符串所包含的 `(` 和 `)` 数量必须相同，并且对于字符串的任意前缀，所包含的 `(` 的数目都不少于 `)` 的数目。

例如，以下字符串都是平衡的：

```
()
(())
()(()())
```

以下则不是：

```
)(
())(
((())))
```

### 输入格式

第一行包含两个整数 *K* 和 *N*。

接下来 *K* 行，每行包含一个长度为 *N* 的括号序列。

### 输出格式

输出同时平衡范围的数量。

### 数据范围

*1 ≤ K ≤ 10*,

*1 ≤ N ≤ 50000*

### 输入样例：

```
3 14
)()((())))(())
()(()()()((())
)))(()()))(())
```

### 输出样例：

```
3
```
