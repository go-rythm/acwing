## [1816. 瓷器店里的公牛](https://www.acwing.com/problem/content/1818/)

### 题目

农夫约翰认为自己的家里需要更多的装饰。

在参观当地的瓷器店时，他发现了一个精致的玻璃牛挂件，并认为这十分适合放在壁炉架上，所以他决定买下这个挂件。

牛挂件的形状可以用一个 *N × M* 的字符矩阵来描述，如下所示，其中的小写字母是挂件的各个部分（不同字母代表不同的颜色），而 `.` 不是挂件的部分（就是空气）。

```
...............
...............
x..x...........
xxxx...........
xxxxaaaaaaa...
.xx.aaaaaaaaa..
....aaaaaaa.aa.
....ll...ll....
....vv...vv....
...............
```

不幸的是，约翰还没来得及掏钱购买，就有一只公牛闯进了商店，不仅撞坏了约翰的挂件，还撞坏了货架上的许多其他玻璃制品！

约翰的小挂件被撞成了三块碎片，与其他商品碎片散落在地上，已知地上目前共有 *K* 块碎片。

就像最初的小挂件一样，每块碎片的形状都由一个字符矩阵来描述。

约翰需要从地上的 *K* 块碎片中取出三块，拼接在一起将牛挂件修复。

请问，共有多少种三块碎片的组合，可供约翰挑选，修复成原来的牛的样子。

地上的碎片可能经过了水平、垂直翻转或旋转了 *90* 度。

因此，给定原始字符矩阵以及描述碎片的 *K* 个字符矩阵，请你找出 *3* 个碎片的集合，使得这些碎片可以拼接在一起组成原来的图案。

拼接时允许碎片被平移、翻转或旋转 *90* 度的倍数。

然后拼接时，这 *3* 个部分应完全组成原始图案，拼接成的图案颜色上也应与原始图案一致。

### 输入格式

第一行包含整数 *K*。

然后是 *K+1* 个字符矩阵，第一个用来描述原始牛挂件，接下来 *K* 个用来描述各个碎片。

每个描述的第一行包含两个整数 *R,C*。

接下来的 *R* 行，每行包含 *C* 个字符，若字符为小写字母，表示此区域存在挂件或碎片实体，颜色如字母所描述，如果字符为 `.`，则表示该区域不存在实体。

每个矩阵中至少存在一个字母字符。

### 输出格式

输出三元组 *i,j,k (i < j < k)* 中，满足第 *i,j,k* 块碎片可拼成原始图案的三元组数量。

### 数据范围

*4 ≤ K ≤ 100*,

*1 ≤ R,C ≤ 500*

### 输入样例：

```
5
5 5
aaaaa
..a..
bbabb
..a..
aaaaa
3 5
..abb
..a..
aaaaa
5 2
a.
a.
aa
a.
a.
1 2
bb
1 5
bbabb
2 5
aaaaa
..a..
```

### 输出样例：

```
3
```

### 样例解释

三种可拼出原始图案的三元组为 *(0,1,2), (0,2,4), (1,3,4)*。
