## [2425. 奇怪的计算器](https://www.acwing.com/problem/content/2427/)

### 题目

JYY 有个奇怪的计算器，有一天这个计算器坏了，JYY 希望你能帮助他写一个程序来模拟这个计算器的运算。

JYY 的计算器可以执行 *N* 条预设好的指令。

每次 JYY 向计算器输入一个正整数 *X*，计算器就会以 *X* 作为初始值，接着依次执行预设的 *N* 条指令，最后把最终得出的结果返回给 JYY。

每一条指令可以是以下四种指令之一：（这里 *a* 表示一个正整数。）

1. *+a*：表示将当前的结果加上 *a*；
2. *-a*：表示将当前的结果减去 *a*；
3. **a*：表示将当前的结果乘以 *a*；
4. *@a*：表示将当前的结果加上 *a*X*（*X* 是一开始 JYY 输入的数）。

计算器用于记录运算结果的变量的存储范围是有限的，所以每次运算结束之后会有计算结果溢出的问题。

JYY 的计算器中，存储每计算结果的变量只能存储 *L* 到 *R* 之间的正整数，如果一次指令执行过后，计算结果超过了 *R*，那么计算器就会自动把结果变成 *R*，然后再以 *R* 作为当前结果继续进行之后的计算。

同理，如果运算结果小于 *L*，计算器也会把结果变成 *L*，再接着计算。

比如，假设计算器可以存储 *1* 到 *6* 之间的值，如果当前的计算结果是 *2*，那么在执行 *+5* 操作之后，存储结果的变量中的值将会是 *6*。

虽然 *2+5* 的实际结果是 *7*，但是由于 *7* 超过了存储范围的上界，所以结果就被自动更正成了上界的大小，也就是 *6*。

JYY 一共想在计算器上输入 *Q* 个值，他想知道这 *Q* 个值输入计算器之后，分别会得到什么结果呢？

### 输入格式

输入文件的第一行包含三个正整数，*N,L* 和 *R*；

接下来 *N* 行，每行一个指令，每个指令如题述，由一个字符和一个正整数组成，字符和正整数中间有一个空格隔开；

第 *N+2* 行包含一个整数 *Q*，表示 JYY 希望输入的数的数量；

接下来 *Q* 行每行一个正整数，第 *k* 个正整数 *X_k* 表示 JYY 在第 *k* 次输入的整数。

### 输出格式

输出 *Q* 行每行一个正整数，第 *k* 行的整数表示输入 *X_k* 后，依次经过 *N* 个指令进行计算所得到的结果。

### 数据范围

*1 ≤ N,Q ≤ 10^5*,

*1 ≤ L ≤ X_k ≤ R ≤ 10^9*,

*1 ≤ a ≤ 10^9*

### 输入样例：

```
5 1 6
+ 5
- 3
* 2
- 7
@ 2
3
2
1
5
```

### 输出样例：

```
5
3
6
```

### 样例解释

当 JYY 输入 *2* 时，计算器会进行 *5* 次运算，每一次运算之后得到的结果分别是 *6*（实际计算结果为 *7* 但是超过了上界），*3*，*6*，*1*（实际结果为 *-1* 但是低于了下界）和 *5*（由于一开始输入的是 *2*，所以这一次计算为 *1+2×2*）。
