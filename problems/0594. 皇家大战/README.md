## [594. 皇家大战](https://www.acwing.com/problem/content/596/)

### 题目

皇家大战是一款实时策略纸牌游戏。

每张卡都有攻击力和等级。

每位玩家挑选 *8* 张牌组成战斗牌组;牌组的总攻击强度是其每张牌的攻击力之和。

玩家通过将战斗牌组中的卡牌放入战斗竞技场中，相互争斗。

战斗的胜利者将获得硬币奖励，可用于升级卡牌，升级卡牌会增加其攻击力。

经过几天的竞技场战斗，小肖恩已经积累了总共 *M* 个硬币。

他决定升级他的一些卡片。

小肖恩有 *N* 张牌。

第 *i* 张牌可以最高升到 *K_i* 级;第 *j* 级的攻击力是 *A_{i,j}*。

卡片一次只能升一级;将第 *i* 张卡从等级 *j* 升级到等级 *j + 1* 的价格为 *C_{i,j}* 个硬币。

在小肖恩开始升级卡牌之前，第 *i* 张牌处于 *L_i* 级别。

小肖恩想用他的部分或全部硬币来升级卡牌，然后形成一套正好 *8* 张牌的牌组，让牌组的总攻击力尽可能大。

你能帮他做到吗？

只要他能负担得起，他就可以多次升级同一张卡，而且他可以不升级所有卡。

### 输入格式

第一行包含整数 *T*，表示共有 *T* 组测试数据。

每组数据第一行包含两个整数 *M* 和 *N*，表示肖恩拥有的硬币数和总卡牌数。

紧接着 *N* 部分内容描述全部的 *N* 张卡牌。

每部分占三行，其中第一行包含两个整数 *K_i* 和 *L_i*，表示卡牌的最大级别和当前级别。

第二行包含 *K_i* 个整数 *A_{i,j}*，表示每一级别(*1 ~ K_i*)的攻击力。

第三行包含 *K_i-1* 个整数 *C_{i,j}*，表示每一级别(*1 ~ K_i-1*)升到下一级别需要的硬币数。

### 输出格式

每组数据输出一个结果，每个结果占一行。

结果表示为 `Case #x: y`，其中 *x* 是组别编号（从 *1* 开始），*y* 是可以达到的总攻击力最大值。

### 数据范围

*1 ≤ T ≤ 100*,

*1 ≤ K_i ≤ 10*,

*1 ≤ L_i ≤ K_i*,

*A_{i,j} < A_{i,j+1}*,

*1 ≤ M,A_{i,j},C_{i,j} ≤ 10^9*,

*8 ≤ N ≤ 12*,

### 输入样例：

```
2
20 8
3 1
1 10 100
1 2
3 1
1 10 100
1 3
3 1
1 10 100
1 4
3 1
1 10 100
1 5
3 1
1 10 100
1 6
3 1
1 10 100
1 7
3 1
1 10 100
1 8
3 1
1 10 100
1 9
30 10
4 1
1 10 100 200
1 2 3
3 1
1 10 100
2 4
3 1
1 10 100
3 6
4 2
1 10 100 200
4 8 16
3 1
1 10 100
5 10
3 1
1 10 100
6 12
3 1
1 10 100
7 14
3 1
1 10 100
8 16
3 1
1 10 100
9 18
3 1
1 10 100
10 20
```

### 输出样例：

```
Case #1: 422
Case #2: 504
```

### 样例解释

在样例＃1中，您可以将前 *4* 张卡升级到 *3* 级，将第 *5* 张和第 *6* 张卡升级到 *2* 级，将最后 *2* 张卡保持在 *1* 级。

这将花费您 *(1 + 2)+(1 + 3)+(1 + 4)+(1 + 5)+1 + 1 = 20* 个硬币，总攻击力为 *100 + 100 + 100 + 100 + 10 + 10 + 1 + 1 = 422*，这是我们可以得到的最大值。
