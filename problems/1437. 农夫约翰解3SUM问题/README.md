## [1437. 农夫约翰解3SUM问题](https://www.acwing.com/problem/content/1439/)

### 题目

农夫约翰相信他在算法设计上实现了一个重大突破：

他声称他发现了一个 3SUM 问题的近似线性时间算法，这是一个有名的算法问题，尚未发现比运行速度比平方时间明显更优的解法。

3SUM 问题的一个形式是：给定一个整数数组 *s_1,…,s_m*，计算不同索引组成的无序三元对 *i,j,k* 的数量，使得 *s_i+s_j+s_k=0*。

为了测试约翰的断言，贝茜提供了一个 *N* 个整数组成的数组 *A*。

贝茜还会进行 *Q* 次询问，每个询问由两个索引 *a_i,b_i* 组成。

对于每个询问，约翰必须在子数组 *A[a_i…b_i]* 上求解 3SUM 问题。

不幸的是，约翰刚刚发现了他的算法中的一个错误。

他很自信他能修复这个算法，但同时，他请你帮他先通过贝茜的测试！

### 输入格式

输入的第一行包含两个空格分隔的整数 *N* 和 *Q*。

第二行包含空格分隔的数组 *A* 的元素 *A_1,…,A_N*。

以下 *Q* 行每行包含两个空格分隔的整数 *a_i* 和 *b_i*，表示一个询问。

### 输出格式

输出包含 *Q* 行，第 *i* 行包含一个整数，为第 *i* 个询问的结果。

注意你需要使用 *64* 位整数型来避免溢出。

### 数据范围

*1 ≤ N ≤ 5000*,

*1 ≤ Q ≤ 10^5*,

*1 ≤ a_i ≤ b_i ≤ N*,

*-10^6 ≤ A_i ≤ 10^6*

### 输入样例：

```
7 3
2 0 -1 1 -2 3 3
1 5
2 4
1 7
```

### 输出样例：

```
2
1
4
```

### 样例解释

对于第一个询问，所有的三元对为 *(A_1,A_2,A_5)* 和 *(A_2,A_3,A_4)*。
