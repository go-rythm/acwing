## [3268. 小明放学](https://www.acwing.com/problem/content/3271/)

### 题目

小明是汉东省政法大学附属中学的一名学生，他每天都要骑自行车往返于家和学校。

他上学需要经过数段道路，相邻两段道路之间设有至多一盏红绿灯。

京州市的红绿灯是这样工作的：每盏红绿灯有红、黄、绿三盏灯和一个能够显示倒计时的显示牌。

假设红绿灯被设定为红灯 *r* 秒，黄灯 *y* 秒，绿灯 *g* 秒，那么从 *0* 时刻起，*[0,r)* 秒内亮红灯，车辆不许通过；*[r, r+g)* 秒内亮绿灯，车辆允许通过；*[r+g, r+g+y)* 秒内亮黄灯，车辆不许通过，然后依次循环。

倒计时的显示牌上显示的数字 *l（l > 0）* 是指距离下一次信号灯变化的秒数。

汉东省政法大学附属中学所在的光明区最近实施了名为“智慧光明”的智慧城市项目。

具体到交通领域，通过“智慧光明”终端，可以看到光明区所有红绿灯此时此刻的状态。

小明的学校也安装了“智慧光明”终端，小明想利用这个终端给出的信息，估算自己放学回到家的时间。

一次放学的时候，小明已经规划好了自己回家的路线，并且能够预测经过各个路段的时间。

同时，小明通过学校里安装的“智慧光明”终端，看到了 **出发时刻** 路上经过的所有红绿灯的指示状态。

请帮忙计算小明此次回家所需要的时间。

### 输入格式

第一行包含空格分隔的三个正整数 *r、y、g*，表示红绿灯的设置。这三个数均不超过 *10^6*。

第二行包含一个正整数 *n*，表示小明总共经过的道路段数和路过的红绿灯数目。

接下来的 *n* 行，每行包含空格分隔的两个整数 *k、t*。*k=0* 表示经过了一段道路，将会耗时 *t* 秒，此处 *t* 不超过 *10^6*；*k=1、2、3* 时，分别表示 **出发时刻**，此处的红绿灯状态是红灯、黄灯、绿灯，且倒计时显示牌上显示的数字是 *t*，此处 *t* 分别不会超过 *r、y、g*。

### 输出格式

输出一个数字，表示此次小明放学回家所用的时间。

### 数据范围

*1 ≤ r,y,g ≤ 10^6*。

前 *2* 个测试点中不存在任何信号灯。

前 *6* 个测试点保证 *n ≤ 10^3*。

所有测试点保证 *n ≤ 10^5*。

### 输入样例:

```
30 3 30
8
0 10
1 5
0 11
2 2
0 6
0 3
3 10
0 3
```

### 输出样例：

```
46
```

### 样例解释

小明先经过第一段路，用时 *10* 秒。

第一盏红绿灯出发时是红灯，还剩 *5* 秒；小明到达路口时，这个红绿灯已经变为绿灯，不用等待直接通过。

接下来经过第二段路，用时 *11* 秒。

第二盏红绿灯出发时是黄灯，还剩两秒；小明到达路口时，这个红绿灯已经变为红灯，还剩 *11* 秒。

接下来经过第三、第四段路，用时 *9* 秒。第三盏红绿灯出发时是绿灯，还剩 *10* 秒；小明到达路口时，这个红绿灯已经变为红灯，还剩两秒。

接下来经过最后一段路，用时 *3* 秒。共计 *10+11+11+9+2+3 = 46* 秒。
