## [1628. 判断红黑树](https://www.acwing.com/problem/content/1630/)

### 题目

数据结构中有一类平衡的二叉搜索树，称为红黑树。

它具有以下 *5* 个属性：

- 节点是红色或黑色。
- 根节点是黑色。
- 所有叶子都是黑色。（叶子是 NULL节点）
- 每个红色节点的两个子节点都是黑色。
- 从任一节点到其每个叶子的所有路径都包含相同数目的黑色节点。

例如，下列三张图中，左图中的二叉树是红黑树，其余两图中的二叉树不是红黑树。

 ![1.jpg](https://cdn.acwing.com/media/article/image/2020/04/13/19_aefa6b627d-1.jpg) ![2.jpg](https://cdn.acwing.com/media/article/image/2020/04/13/19_b137133a7d-2.jpg) ![3.jpg](https://cdn.acwing.com/media/article/image/2020/04/13/19_b3bfc8407d-3.jpg)

现在，对于每个给定的二叉搜索树，请你判断它是否是合法的红黑树。

### 注意

给定的前序遍历序列可能不合法，即无法构建出合法二叉搜索树。

### 输入格式

第一行包含整数 *K*，表示共有 *K* 组测试数据。

每组测试数据，第一行包含整数 *N*，表示二叉搜索树的节点数量。

第二行给出了这个二叉搜索树的前序遍历。

注意，虽然所有节点的权值都为正，但是我们使用负号表示红色节点。

各节点权值互不相同。

输入样例与题目中三个图例相对应。

### 输出格式

对于每组数据，如果是合法红黑树则输出一行 `Yes`，否则输出一行 `No`。

### 数据范围

*1 ≤ K ≤ 30*,

*1 ≤ N ≤ 30*

### 输入样例：

```
3
9
7 -2 1 5 -4 -11 8 14 -15
9
11 -2 1 -7 5 -4 8 14 -15
8
10 -7 5 -6 8 15 -11 17
```

### 输出样例：

```
Yes
No
No
```
