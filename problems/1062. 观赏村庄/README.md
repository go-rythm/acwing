## [1062. 观赏村庄](https://www.acwing.com/problem/content/1064/)

### 题目

Kickstartia小镇由 *V* 个村庄（标记为 *1* 到 *V*）组成，由 *V-1* 条双向道路（标记为 *1* 到 *V-1*）连接。

其中，第 *i* 条路将 *X_i* 村与 *Y_i* 村连接起来。

每条道路恰好连接两个村庄， **没有** 两条道路连接同一对村庄。

此外，在Kickstartia上， **任意** 两个村庄之间都 **恰好只有一条路径** 将它们连通。

每个村庄都有一个美丽值，第 *i* 个村庄的美丽值为 *B_i*。

请注意，村庄的美丽值可能为负数！

你将在一些村庄建造灯塔。

如果村庄中建有灯塔，或者与该村庄直接通过一条道路相连的临近村庄设有灯塔，则该村庄将被照亮。

你可以根据需要建造任意数量的灯塔（甚至为零）。

请问，你可以获得的被照亮村庄的美丽值的最大可能总和是多少？

### 输入格式

第一行包含整数 *T*，表示共有 *T* 组测试数据。

每组数据第一行包含整数 *V*，表示村庄数量。

第二行包含 *V* 个整数，其中第 *i* 个整数是 *B_i*，表示第 *i* 个村庄的美丽值。

接下来*V-1*行，每行包含两个不同的整数 *X_i* 和 *Y_i*，表示两个村庄之间存在一条道路。

### 输出格式

每组数据输出一个结果，每个结果占一行。

结果表示为“Case #x: y”，其中x是组别编号（从1开始），y为可以获得的被照亮村庄的美丽值的最大和。

### 数据范围

*1 ≤ T ≤ 100*,

*-10^5 ≤ B_i ≤ 10^5*,

*1 ≤ X_i,Y_i ≤ V*,

*2 ≤ V ≤ 10^5*

### 输入样例：

```
3
9
-10 4 -10 8 20 30 -2 -3 7
1 4
2 4
4 3
9 4
9 8
7 5
6 7
7 9
4
-2 20 20 20
1 2
1 3
1 4
5
-5 -10 8 -7 -2
5 4
4 3
3 2
2 1
```

### 输出样例：

```
Case #1: 67
Case #2: 58
Case #3: 0
```

### 样例解释

在示例1中，你可以在村庄2和7中各放置一座灯塔。由此可照亮村庄2、4、5、6、7、9，美丽值总和为4 + 8 + 20 + 30 +（-2）+ 7 =67。

在示例2中，你可以在村庄1、2、3中各放置一座灯塔。由此可照亮村庄1、2、3、4，美丽值总和为（-2）+ 20 + 20 + 20 = 58。

在示例3中，你可以做的最好的决策就是不放置任何灯塔！ 这样不会照亮任何村庄，美丽值总和为0。
