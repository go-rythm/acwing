## [1943. 贝茜洗牌](https://www.acwing.com/problem/content/1945/)

### 题目

贝茜正在练习她的纸牌戏法。

她已经掌握了贝茜洗牌法，一种应用于 *M* 张纸牌的洗牌方法。

利用这种洗牌方法完成洗牌以后，最初位于从顶部开始第 *i* 个位置的卡牌将被洗至从顶部开始第 *P[i]* 个位置。

现在，贝茜在更大的一副牌中练习洗牌。

她拿出一副 *N* 张牌，编号 *1 ~ N*。

她的洗牌方式为：

1. 拿走顶部的 *M* 张牌，使用贝茜洗牌法打乱顺序，并将洗过的牌放回这副牌的顶部。
2. 拿出牌顶的第一张牌，面朝下放到已洗好牌堆（最初为空堆）的顶部。
3. 重复前两个步骤，直到剩余卡牌数量小于 *M* 张为止。
4. 当剩余牌数量小于 *M* 张时，不再进行贝茜洗牌法，而是继续将顶部的卡相继放到已洗好牌堆的顶部，直到没有卡片为止。

贝茜直到卡牌最初是按照顺序排列的，自顶向下，卡牌依次为 *1,2,…,N*。

给定贝茜洗牌法的具体描述，请帮助贝茜计算哪些牌最终位于牌组中的 *Q* 个不同的指定位置。

### 输入格式

第 *1* 行：包含三个整数 *N,M,Q*。

第 *2..M+1* 行：第 *i+1* 行包含 *P[i]*。

第 *M+2…M+1+Q* 行：第 *M+1+i* 行包含一个整数 *q_i*，表示第 *i* 个询问，你需要计算从顶部起第 *q_i* 张牌的编号。

### 输出格式

第 *1..Q* 行：第 *i* 行输出一个整数，表示从顶部起第 *q_i* 张牌的编号。

### 数据范围

*2 ≤ M ≤ 10^5*,

*M ≤ N ≤ 10^5*,

*1 ≤ Q ≤ N,Q ≤ 5000*,

*1 ≤ P[i] ≤ M*,

*1 ≤ q_i ≤ N*

### 输入样例：

```
5 3 5
3
1
2
1
2
3
4
5
```

### 输出样例：

```
4
5
3
1
2
```

### 样例解释

最初，五张牌的初始顺序为 *[1, 2, 3, 4, 5]*。

具体的洗牌过程如下：

1. *[1, 2, 3, 4, 5] to [2, 3, 1, 4, 5]*，将 *2* 号牌拿出，放到已洗好牌堆顶部。
2. *[3, 1, 4, 5] to [1, 4, 3, 5]*，将 *1* 号牌拿出，放到已洗好牌堆顶部。
3. *[4, 3, 5] to [3, 5, 4]*，将 *3* 号牌拿出，放到已洗好牌堆顶部。
4. *[5, 4]*，此时少于 *3* 张，不进行洗牌，直接将 *5* 号牌拿出，放到已洗好牌堆顶部。
5. *[4]*，将 *4* 号牌拿出，放到已洗好牌堆顶部。

最终，已洗好牌堆中各牌的顺序：*[4,5,3,1,2]*。
